{% extends "layout.html" %}

{% block content %}
    <link href="{{ url_for('static', filename='css/digits.css') }}" rel="stylesheet">
  <main class="hero-section">
  	<div>
  	<h2>Handwritten Digit Recognition using <span>Convolutional Neural Networks</span></h2>
    <div class="container" id = "interact">

		<div style="color: #4DAF7C; font-weight: 400; font-family: 'Open Sans', Helvetica;	">Draw the Digit inside this Box!</div>
		<br/>

		<canvas id="canvas" width="280" height="280" style="border:6px solid; border-radius: 5px; cursor: crosshair;"></canvas>
		<div id="controls">
			
			<input type="color" id="colors">
			 <input type="number" id="lineWidth" style="width:60px" value="0.2" step="0.1" min="0.1">
			<input type="button" id="clearButton" value="Clear" >
			<a href="#" class="submitButton"><span> Predict </span></a>		
		</div>

</div>
		<div class = "container" id = "results">
			<h1 id="result" style="margin-right:20px; margin-top:300px;float:left;"><span> </span></h1>
		</div>

		
  		<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

	    <script src="static/js/digits.js"></script>
	    
	    <script type="text/javascript">
	   		$(".submitButton").click(function(){
	   			var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
	   			var canvasObj = document.getElementById("canvas");
	   			var img = canvasObj.toDataURL();
	   			$.ajax({
	   				type: "POST",
	   				url: $SCRIPT_ROOT + "/predict/",
	   				data: img,
	   				success: function(data){
	   					$('#result').text(' Predicted Output: '+data);
	   				}
	   			});
	   		});
	   			   </script>

</div>
  </main>
  <div class="clearfix"></div>

{% endblock %}